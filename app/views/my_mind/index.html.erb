<section class="content-full-viewport my-mind">
  <div class="my-mind-navigation">
    <%= link_to root_path do %>
      <%= inline_svg "icon-arrow-left.svg", height: "16px", width: "16px" %>
    <% end %>

    <%= link_to chat_logout_path, data: { turbo_method: :delete } do %>
      <%= inline_svg "icon-log-out.svg", height: "16px", width: "16px" %>
    <% end %>
  </div>
  
  <div class="my-mind-chat-container" data-my-mind-chat-container="true">
    <% unless @chat_messages.any? %>
      <div class="my-mind-intro">
        <h1 class="my-mind-intro__title">
          My Mind
        </h1>
        <p class="my-mind-intro__description">
          This is my AI-powered knowledge base, trained on my thoughts, experiences, and insights from years of building products and leading teams. Ask me anything about design, leadership, product development, or my professional journey.
        </p>
        <div class="my-mind-intro__suggestions">
          <h3>Try asking about:</h3>
          <ul>
            <li>My approach to product design and user experience</li>
            <li>Leadership principles and team building</li>
            <li>My experience at companies like Dropbox and thoughtbot</li>
            <li>Thoughts on AI, technology, and the future of work</li>
            <li>Specific projects or case studies I've worked on</li>
          </ul>
        </div>
      </div>
    <% end %>
    
    <div class="my-mind-chat-history">
      <% if @chat_messages.any? %>
        <%= render partial: 'chat_message', collection: @chat_messages, as: :message %>
      <% else %>
        <%= render 'chat_message', message: OpenStruct.new(
          message_type: 'answer',
          content: "Hello! I'm Jason's AI assistant. Ask me anything about my work, experience, or thoughts on design and leadership.",
          created_at: Time.current
        ) %>
      <% end %>
    </div>
  </div>

  <div class="my-mind-chat-prompt">
    <%= form_with url: ask_my_mind_path,
      local: false,
      class: "my-mind-chat-prompt__form",
      data: { my_mind_chat: true } do |form| %>
      <%= form.text_field :question, 
        placeholder: "What would you like to know about?",
        required: true,
        name: "question" %>
      <%= form.button type: 'submit',
        class: "my-mind-chat-prompt__button button",
        data: { my_mind_chat_button: true } do %>
        <%= inline_svg "icon-arrow-up.svg", height: "20px", width: "20px" %>
      <% end %>
    <% end %>
  </div>
</section>