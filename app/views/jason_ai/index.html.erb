<section class="content-full-viewport jason-ai">
  <!-- Navigation trigger will be positioned via CSS -->
  
  <div class="jason-ai-chat-container" data-jason-ai-chat-container="true">
    <% unless @chat_messages.any? %>
      <div class="jason-ai-intro">
        <h1 class="jason-ai-intro__title">
          Jason AI
        </h1>
        <p class="jason-ai-intro__description">
          This is my AI-powered knowledge base, trained on my thoughts, experiences, and insights from years of building products and leading teams. Ask me anything about design, leadership, product development, or my professional journey.
        </p>
        <div class="jason-ai-intro__suggestions">
          <h3>Try asking about:</h3>
          <ul>
            <li>My approach to product design and user experience</li>
            <li>Leadership principles and team building</li>
            <li>My experience at companies like Dropbox and thoughtbot</li>
            <li>Thoughts on AI, technology, and the future of work</li>
            <li>Specific projects or case studies I've worked on</li>
          </ul>
        </div>
      </div>
    <% end %>
    
    <div class="jason-ai-chat-history">
      <% if @chat_messages.any? %>
        <%= render partial: 'chat_message', collection: @chat_messages, as: :message %>
      <% else %>
        <%= render 'chat_message', message: OpenStruct.new(
          message_type: 'answer',
          content: "Hello! I'm Jason's AI assistant. Ask me anything about my work, experience, or thoughts on design and leadership.",
          created_at: Time.current
        ) %>
      <% end %>
    </div>
  </div>

  <div class="jason-ai-chat-prompt">
    <%= form_with url: ask_jason_ai_path,
      local: false,
      class: "jason-ai-chat-prompt__form",
      data: { jason_ai_chat: true } do |form| %>

      <label for="jason-ai-nav-trigger" class="jason-ai-mobile-nav-trigger button button--secondary">
        <%= inline_svg "icon-menu.svg", height: "20px", width: "20px" %>
      </label>

      <%= form.text_field :question, 
        placeholder: "What would you like to know?",
        required: true,
        name: "question" %>
      <%= form.button type: 'submit',
        class: "jason-ai-chat-prompt__button button",
        data: { jason_ai_chat_button: true } do %>
        <%= inline_svg "icon-arrow-up.svg", height: "20px", width: "20px" %>
      <% end %>
    <% end %>
  </div>
</section>